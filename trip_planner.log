2026-01-12 16:47:19,624 - app - INFO - Received chat request for conversation_id: test-log-1
2026-01-12 16:47:19,625 - app - DEBUG - User message: Hello, I want to plan a trip to Paris
2026-01-12 16:47:21,497 - graph - INFO - Intent classified: exploration (confidence: 0.95)
2026-01-12 16:47:21,497 - graph - DEBUG - Reasoning: ['unclear']
2026-01-12 16:47:27,039 - graph - INFO - Exploration node finished.
2026-01-12 16:47:27,040 - graph - DEBUG - Extracted params: {'destination': ['Paris'], 'type_of_trip': 'dynamic'}
2026-01-12 16:47:27,042 - app - INFO - Response sent for conversation_id: test-log-1. Intent: exploration
2026-01-12 16:53:22,812 - app - INFO - Received chat request for conversation_id: conv-1
2026-01-12 16:53:22,813 - app - DEBUG - User message: i have already answered that question please provide precurated package
2026-01-12 16:53:24,477 - graph - INFO - Intent classified: pre_curated_package (confidence: 0.95)
2026-01-12 16:53:24,477 - graph - DEBUG - Reasoning: ['package_request']
2026-01-12 16:53:24,479 - graph - INFO - Calling Package API at http://localhost:8001/v1/package-response payload :{payload}
2026-01-12 16:53:27,119 - graph - INFO - Package API successful.
2026-01-12 16:53:27,121 - app - INFO - Response sent for conversation_id: conv-1. Intent: pre_curated_package
2026-01-12 16:55:33,471 - app - INFO - Received chat request for conversation_id: conv-1
2026-01-12 16:55:33,471 - app - DEBUG - User message: i want to go to goa for 5 days with 50k rupees and no of travellers are 2 origin city is hyderabad start date is march 1st week i want pre curated package
2026-01-12 16:55:35,184 - graph - INFO - Intent classified: pre_curated_package (confidence: 0.95)
2026-01-12 16:55:35,184 - graph - DEBUG - Reasoning: ['package_request']
2026-01-12 16:55:35,185 - graph - INFO - Calling Package API at http://localhost:8001/v1/package-response payload :{'core': {}, 'user_message': 'i want to go to goa for 5 days with 50k rupees and no of travellers are 2 origin city is hyderabad start date is march 1st week i want pre curated package'}
2026-01-12 16:55:47,098 - graph - INFO - Package API successful.
2026-01-12 16:55:47,100 - app - INFO - Response sent for conversation_id: conv-1. Intent: pre_curated_package
2026-01-12 16:57:32,214 - app - INFO - Received chat request for conversation_id: conv-12
2026-01-12 16:57:32,215 - app - DEBUG - User message: i want to go to goa for 5 days with 50k rupees and no of travellers are 2 origin city is hyderabad start date is march 1st week 
2026-01-12 16:57:34,133 - graph - INFO - Intent classified: exploration (confidence: 0.95)
2026-01-12 16:57:34,133 - graph - DEBUG - Reasoning: ['recommendation']
2026-01-12 16:57:44,271 - graph - INFO - Exploration node finished.
2026-01-12 16:57:44,271 - graph - DEBUG - Extracted params: {'destination': ['goa'], 'origin': 'hyderabad', 'start_date': 'march 1st week', 'travelers': 2, 'type_of_trip': 'dynamic'}
2026-01-12 16:57:44,273 - app - INFO - Response sent for conversation_id: conv-12. Intent: exploration
2026-01-12 16:59:08,595 - app - INFO - Received chat request for conversation_id: conv-12
2026-01-12 16:59:08,595 - app - DEBUG - User message: pre curated trip 
2026-01-12 16:59:10,012 - graph - INFO - Intent classified: pre_curated_package (confidence: 0.95)
2026-01-12 16:59:10,012 - graph - DEBUG - Reasoning: ['hook_choice_precurated']
2026-01-12 16:59:10,013 - graph - INFO - Calling Package API at http://localhost:8001/v1/package-response payload :{'core': {'destination': ['goa'], 'origin': 'hyderabad', 'start_date': 'march 1st week', 'travelers': 2, 'type_of_trip': 'dynamic'}, 'user_message': 'pre curated trip '}
2026-01-12 16:59:13,257 - graph - INFO - Package API successful.
2026-01-12 16:59:13,258 - app - INFO - Response sent for conversation_id: conv-12. Intent: pre_curated_package
2026-01-12 17:07:30,367 - app - INFO - Received chat request for conversation_id: conv-12
2026-01-12 17:07:30,369 - app - DEBUG - User message: i want to go to goa for 5 days with 50k rupees and no of travellers are 2 origin city is hyderabad start date is march 1st week 
2026-01-12 17:07:33,789 - graph - INFO - Intent classified: exploration (confidence: 0.95)
2026-01-12 17:07:33,789 - graph - DEBUG - Reasoning: ['recommendation']
2026-01-12 17:07:46,797 - graph - INFO - Exploration node finished.
2026-01-12 17:07:46,798 - graph - DEBUG - Extracted params: {'destination': ['Goa'], 'origin': 'Hyderabad', 'start_date': 'March 1st week', 'budget_total': 50000, 'travelers': 2}
2026-01-12 17:07:46,800 - app - INFO - Response sent for conversation_id: conv-12. Intent: exploration
2026-01-12 17:08:13,414 - app - INFO - Received chat request for conversation_id: conv-12
2026-01-12 17:08:13,415 - app - DEBUG - User message: precurated 
2026-01-12 17:08:14,851 - graph - INFO - Intent classified: pre_curated_package (confidence: 0.95)
2026-01-12 17:08:14,852 - graph - DEBUG - Reasoning: ['hook_choice_precurated']
2026-01-12 17:08:14,853 - graph - INFO - Calling Package API at http://localhost:8001/v1/package-response payload :{'core': {'destination': ['Goa'], 'origin': 'Hyderabad', 'start_date': 'March 1st week', 'budget_total': 50000, 'travelers': 2}, 'user_message': 'precurated '}
2026-01-12 17:08:32,259 - graph - INFO - Package API successful.
2026-01-12 17:08:32,260 - app - INFO - Response sent for conversation_id: conv-12. Intent: pre_curated_package
2026-01-12 17:11:11,309 - graph - INFO - Calling Trip Planner API at http://35.200.247.133:8002/chat for conversation unknown payload :{'core': {'destination': ['Paris'], 'origin': None, 'start_date': None, 'end_date': None, 'budget_total': 5000, 'travelers': None, 'type_of_trip': None}, 'draft': {}, 'user_message': 'test msg'}
2026-01-12 17:11:11,310 - graph - INFO - Trip Planner API successful.
2026-01-12 17:11:11,311 - graph - INFO - Calling Package API at http://localhost:8001/v1/package-response payload :{'core': {'destination': ['Paris'], 'origin': None, 'start_date': None, 'end_date': None, 'budget_total': 5000, 'travelers': None, 'type_of_trip': None}, 'user_message': 'test msg'}
2026-01-12 17:11:11,311 - graph - INFO - Package API successful.
2026-01-12 17:12:52,910 - app - INFO - Received chat request for conversation_id: conv-12
2026-01-12 17:12:52,911 - app - DEBUG - User message: i want to go to goa for 5 days with 50k rupees and no of travellers are 2 origin city is hyderabad start date is march 1st week 
2026-01-12 17:12:56,022 - graph - INFO - Intent classified: exploration (confidence: 1.0)
2026-01-12 17:12:56,022 - graph - DEBUG - Reasoning: ['parameter_edit']
2026-01-12 17:13:10,697 - graph - INFO - Exploration node finished.
2026-01-12 17:13:10,697 - graph - DEBUG - Extracted params: {'destination': ['Goa'], 'origin': 'Hyderabad', 'start_date': '2024-03-04', 'end_date': '2024-03-08', 'budget_total': 50000, 'travelers': 2}
2026-01-12 17:13:10,699 - app - INFO - Response sent for conversation_id: conv-12. Intent: exploration
2026-01-12 17:13:36,977 - app - INFO - Received chat request for conversation_id: conv-12
2026-01-12 17:13:36,986 - app - DEBUG - User message: yes 
2026-01-12 17:13:41,181 - graph - INFO - Intent classified: trip_planner (confidence: 1.0)
2026-01-12 17:13:41,182 - graph - DEBUG - Reasoning: []
2026-01-12 17:13:41,182 - graph - INFO - Calling Trip Planner API at http://35.200.247.133:8002/chat for conversation conv-12 payload :{'core': {'destination': ['Goa'], 'origin': 'Hyderabad', 'start_date': '2024-03-04', 'end_date': '2024-03-08', 'budget_total': 50000, 'travelers': 2, 'type_of_trip': None}, 'draft': {'summary': 'A relaxed 5-day trip to Goa, balancing beach time, cultural exploration, and local cuisine, suitable for a couple.', 'days': [{'day_number': 1, 'morning': 'Fly from Hyderabad to Goa (GOI/MOPA). Transfer to your hotel in North Goa (e.g., Anjuna, Vagator area).', 'afternoon': 'Check-in and relax. Head to Anjuna Beach or Vagator Beach for some initial sun and sand.', 'evening': 'Enjoy a sunset dinner at a beach shack, savoring fresh seafood.', 'hotel_idea': 'Boutique hotel in Anjuna/Vagator.', 'notes': 'Focus on settling in and unwinding after travel.'}, {'day_number': 2, 'morning': 'Visit Chapora Fort for panoramic views. Explore Vagator Beach and Ozran Beach (Little Vagator).', 'afternoon': "Lunch at a local cafe. Browse the Anjuna Flea Market (if it's a Wednesday) or local shops for souvenirs.", 'evening': 'Dinner at a popular restaurant in Assagao or a lively bar in Baga/Calangute if you prefer more nightlife.', 'hotel_idea': 'Same as Day 1.', 'notes': 'This day offers a mix of scenic views and local culture/shopping.'}, {'day_number': 3, 'morning': 'Drive to Old Goa. Explore UNESCO World Heritage sites like Basilica of Bom Jesus and Se Cathedral.', 'afternoon': 'Head to Panjim, the capital city. Enjoy a Goan thali for lunch. Walk through the charming Fontainhas Latin Quarter.', 'evening': 'Take a leisurely Mandovi River cruise with cultural performances (optional) or enjoy dinner in Panjim.', 'hotel_idea': 'Same as Day 1, or consider moving to a hotel in South Goa if you prefer to explore that area more deeply.', 'notes': "A day dedicated to history, architecture, and the capital city's unique vibe."}, {'day_number': 4, 'morning': 'Travel to South Goa (if not already there). Spend the morning at Palolem Beach, known for its crescent shape and calm waters. You could try kayaking.', 'afternoon': 'Lunch at a beachside restaurant. Relax at Agonda Beach, a quieter and more pristine option.', 'evening': 'Enjoy a peaceful sunset and dinner at a South Goa beach shack.', 'hotel_idea': 'Beach resort or guesthouse in Palolem/Agonda.', 'notes': "A day for pure relaxation and enjoying Goa's serene side."}, {'day_number': 5, 'morning': 'Enjoy a final Goan breakfast. Depending on your flight time, you could do some last-minute souvenir shopping or a final dip in the sea.', 'afternoon': 'Check out from your hotel and transfer to the airport for your flight back to Hyderabad.', 'evening': 'Arrive in Hyderabad.', 'hotel_idea': 'N/A.', 'notes': 'Flexible morning based on flight schedule.'}], 'estimated_budget': 50000, 'hotel_type': 'Comfortable, mid-range boutique hotel or guesthouse, possibly near a quieter beach.', 'flight_type': 'Economy class, direct flights if available from Hyderabad.'}, 'user_message': 'yes '}
2026-01-12 17:13:58,972 - graph - INFO - Trip Planner API successful.
2026-01-12 17:13:58,974 - app - INFO - Response sent for conversation_id: conv-12. Intent: trip_planner
2026-01-12 17:16:07,240 - app - INFO - Received chat request for conversation_id: conv-12
2026-01-12 17:16:07,241 - app - DEBUG - User message: change hotel for day one 
2026-01-12 17:16:14,562 - graph - INFO - Intent classified: exploration (confidence: 0.8)
2026-01-12 17:16:14,562 - graph - DEBUG - Reasoning: ['parameter_edit']
2026-01-12 17:16:20,768 - graph - INFO - Exploration node finished.
2026-01-12 17:16:20,768 - graph - DEBUG - Extracted params: {}
2026-01-12 17:16:20,770 - app - INFO - Response sent for conversation_id: conv-12. Intent: exploration
2026-01-12 17:20:14,318 - app - INFO - Received chat request for conversation_id: conv-12
2026-01-12 17:20:14,319 - app - DEBUG - User message: i want to go to goa for 5 days with 50k rupees and no of travellers are 2 origin city is hyderabad start date is march 1st week 
2026-01-12 17:20:16,766 - graph - INFO - Intent classified: exploration (confidence: 1.0)
2026-01-12 17:20:16,767 - graph - DEBUG - Reasoning: ['parameter_edit']
2026-01-12 17:20:32,679 - graph - INFO - Exploration node finished.
2026-01-12 17:20:32,679 - graph - DEBUG - Extracted params: {'destination': ['Goa'], 'origin': 'Hyderabad', 'start_date': '2025-03-04', 'end_date': '2025-03-08', 'budget_total': 50000, 'travelers': 2}
2026-01-12 17:20:32,680 - app - INFO - Response sent for conversation_id: conv-12. Intent: exploration
2026-01-12 17:20:57,763 - app - INFO - Received chat request for conversation_id: conv-12
2026-01-12 17:20:57,763 - app - DEBUG - User message: yeah sounds good  
2026-01-12 17:21:01,557 - graph - INFO - Intent classified: trip_planner (confidence: 1.0)
2026-01-12 17:21:01,557 - graph - DEBUG - Reasoning: ['itinerary_request']
2026-01-12 17:21:01,558 - graph - INFO - Calling Trip Planner API at http://35.200.247.133:8002/chat for conversation conv-12 payload :{'core': {'destination': ['Goa'], 'origin': 'Hyderabad', 'start_date': '2025-03-04', 'end_date': '2025-03-08', 'budget_total': 50000, 'travelers': 2, 'type_of_trip': None}, 'draft': {'summary': 'A 5-day trip to Goa for 2 people from Hyderabad, focusing on beaches, relaxation, and some local exploration, within a 50,000 INR budget.', 'days': [{'day_number': 1, 'morning': 'Arrive at Goa Airport (GOI), transfer to your hotel in North Goa (e.g., near Calangute/Baga).', 'afternoon': 'Relax at Calangute Beach, enjoy the sun and sea.', 'evening': 'Dinner at a beach shack, explore the lively Baga Lane.', 'hotel_idea': 'Mid-range hotel or guesthouse near Calangute/Baga', 'notes': None}, {'day_number': 2, 'morning': 'Indulge in water sports at Baga Beach (parasailing, jet ski).', 'afternoon': 'Visit Anjuna Flea Market (if Wednesday) or explore local shops and cafes.', 'evening': 'Sunset at Vagator Beach, followed by dinner at a cliffside restaurant.', 'hotel_idea': None, 'notes': None}, {'day_number': 3, 'morning': 'Drive to South Goa. Check into a hotel near Palolem or Colva.', 'afternoon': 'Relax at Palolem Beach, known for its crescent shape and calm waters.', 'evening': 'Enjoy a quiet dinner by the beach, maybe a boat trip to Butterfly Beach.', 'hotel_idea': 'Eco-friendly resort or comfortable guesthouse in South Goa', 'notes': None}, {'day_number': 4, 'morning': "Explore Old Goa's UNESCO World Heritage sites: Basilica of Bom Jesus and Se Cathedral.", 'afternoon': 'Visit a local spice plantation for a guided tour and traditional Goan lunch.', 'evening': 'Enjoy a relaxing Mandovi River cruise with cultural performances.', 'hotel_idea': None, 'notes': None}, {'day_number': 5, 'morning': 'Enjoy a leisurely breakfast, last-minute souvenir shopping, or a final dip in the sea.', 'afternoon': 'Transfer to Goa Airport (GOI) for your departure.', 'evening': None, 'hotel_idea': None, 'notes': None}], 'estimated_budget': 50000, 'hotel_type': 'A mix of comfortable mid-range hotels/guesthouses, potentially one in North Goa and one in South Goa.', 'flight_type': 'Economy class, direct flights from Hyderabad to Goa.'}, 'user_message': 'yeah sounds good  '}
2026-01-12 17:21:19,512 - graph - INFO - Trip Planner API successful. the response is : {'core': {'destination': ['Goa'], 'origin': 'Hyderabad', 'start_date': '2025-03-04', 'end_date': '2025-03-08', 'budget_total': 50000, 'travelers': 2, 'type_of_trip': None}, 'draft': {'summary': 'A 5-day trip to Goa for 2 people from Hyderabad, focusing on beaches, relaxation, and some local exploration, within a 50,000 INR budget.', 'days': [{'day_number': 1, 'morning': 'Arrive at Goa Airport (GOI), transfer to your hotel in North Goa (e.g., near Calangute/Baga).', 'afternoon': 'Relax at Calangute Beach, enjoy the sun and sea.', 'evening': 'Dinner at a beach shack, explore the lively Baga Lane.', 'hotel_idea': 'Mid-range hotel or guesthouse near Calangute/Baga', 'notes': None}, {'day_number': 2, 'morning': 'Indulge in water sports at Baga Beach (parasailing, jet ski).', 'afternoon': 'Visit Anjuna Flea Market (if Wednesday) or explore local shops and cafes.', 'evening': 'Sunset at Vagator Beach, followed by dinner at a cliffside restaurant.', 'hotel_idea': None, 'notes': None}, {'day_number': 3, 'morning': 'Drive to South Goa. Check into a hotel near Palolem or Colva.', 'afternoon': 'Relax at Palolem Beach, known for its crescent shape and calm waters.', 'evening': 'Enjoy a quiet dinner by the beach, maybe a boat trip to Butterfly Beach.', 'hotel_idea': 'Eco-friendly resort or comfortable guesthouse in South Goa', 'notes': None}, {'day_number': 4, 'morning': "Explore Old Goa's UNESCO World Heritage sites: Basilica of Bom Jesus and Se Cathedral.", 'afternoon': 'Visit a local spice plantation for a guided tour and traditional Goan lunch.', 'evening': 'Enjoy a relaxing Mandovi River cruise with cultural performances.', 'hotel_idea': None, 'notes': None}, {'day_number': 5, 'morning': 'Enjoy a leisurely breakfast, last-minute souvenir shopping, or a final dip in the sea.', 'afternoon': 'Transfer to Goa Airport (GOI) for your departure.', 'evening': None, 'hotel_idea': None, 'notes': None}], 'estimated_budget': 50000, 'hotel_type': 'A mix of comfortable mid-range hotels/guesthouses, potentially one in North Goa and one in South Goa.', 'flight_type': 'Economy class, direct flights from Hyderabad to Goa.'}, 'user_message': 'yeah sounds good  ', 'trip_planner_history': [{'role': 'user', 'content': 'yeah sounds good', 'timestamp': '2026-01-12T11:51:01.694388+00:00'}, {'role': 'assistant', 'content': 'Your demo itinerary for a 5‑day Goa getaway for two, departing from Hyderabad, is ready—packed with beach time, relaxing moments, and a taste of local culture, all within a\u202f₹50,000 budget. It includes suggested flights, hotels, activities, and transfers. Which part would you like to tweak first—flights, hotels, attractions, or transfers?', 'timestamp': '2026-01-12T11:51:19.583413+00:00'}], 'trip_planner_queue': [], 'trip_planner_waiting_for_order': False, 'trip_planner_waiting_for_continue': True, 'trip_planner_active_agent': None, 'trip_planner_last_active_agent': None, 'trip_planner_collected_responses': {}, 'final_itinerary': {'input_details': {'destination': ['Goa'], 'duration': 5, 'hub': 'Hyderabad', 'travel_start': '2025-03-04', 'travel_end': '2025-03-08'}, 'passengers': {'adult': 2, 'children': 0, 'infants': 0, 'total': 2}, 'trip_summary': {'summary': 'A 5-day trip to Goa for 2 people from Hyderabad, focusing on beaches, relaxation, and some local exploration, within a 50,000 INR budget.'}, 'itinerary': [{'city_name': 'Goa', 'start_date': '2025-03-04', 'end_date': '2025-03-08', 'duration': '5 days', 'days': [{'day': 1, 'label': 'Arrival in Goa & North Goa Exploration', 'lead': 'Arrive at Goa Airport (GOI), transfer to your hotel in North Goa (e.g., near Calangute/Baga). Relax at Calangute Beach, enjoy the sun and sea. Dinner at a beach shack, explore the lively Baga Lane.', 'date': '2025-03-04', 'hotels': {'id': 'HOTEL1', 'name': 'The Beach Resort Goa', 'location': 'Calangute, North Goa', 'check_in': '2025-03-04', 'check_out': '2025-03-06', 'price_per_night': {'amount': 3500, 'currency': 'INR'}, 'details': {'rating': 4, 'amenities': ['Pool', 'Restaurant', 'Free WiFi']}}, 'flights': {'id': 'FL1', 'carrier': 'IndiGo', 'number': '6E 205', 'departure': {'airport': 'Hyderabad (HYD)', 'time': '2025-03-04T08:00:00'}, 'arrival': {'airport': 'Goa (GOI)', 'time': '2025-03-04T09:30:00'}, 'duration': '1h30m', 'fare': {'amount': 4500, 'currency': 'INR'}, 'leg_key': 'outbound', 'selected_index': 0, 'selected_at': '2026-01-12T11:51:01.704624Z'}, 'transfers': {}, 'activities': [{'type': 'sightseeing', 'time': '10:00', 'location': 'Goa Airport (GOI)', 'description': 'Arrival and transfer to hotel.', 'meal': None, 'attraction': None}, {'type': 'sightseeing', 'time': '12:00', 'location': 'Calangute Beach', 'description': 'Relax on the beach, enjoy the sun and sea.', 'meal': None, 'attraction': 'Calangute Beach'}, {'type': 'meal', 'time': '19:00', 'location': 'Baga Lane', 'description': 'Dinner at a beach shack.', 'meal': 'Dinner', 'attraction': None}]}, {'day': 2, 'label': 'North Goa Beaches & Markets', 'lead': 'Indulge in water sports at Baga Beach. Visit Anjuna Flea Market (if Wednesday) or explore local shops and cafes. Sunset at Vagator Beach, followed by dinner at a cliffside restaurant.', 'date': '2025-03-05', 'hotels': {'id': 'HOTEL1', 'name': 'The Beach Resort Goa', 'location': 'Calangute, North Goa', 'check_in': '2025-03-04', 'check_out': '2025-03-06', 'price_per_night': {'amount': 3500, 'currency': 'INR'}, 'details': {'rating': 4, 'amenities': ['Pool', 'Restaurant', 'Free WiFi']}}, 'flights': {}, 'transfers': {}, 'activities': [{'type': 'sightseeing', 'time': '10:00', 'location': 'Baga Beach', 'description': 'Enjoy water sports like parasailing and jet skiing.', 'meal': None, 'attraction': 'Baga Beach'}, {'type': 'sightseeing', 'time': '14:00', 'location': 'Anjuna', 'description': 'Explore the famous Anjuna Flea Market (Wednesdays only) or browse local shops.', 'meal': None, 'attraction': 'Anjuna Flea Market'}, {'type': 'sightseeing', 'time': '17:30', 'location': 'Vagator Beach', 'description': 'Watch the sunset from Vagator Beach.', 'meal': None, 'attraction': 'Vagator Beach'}, {'type': 'meal', 'time': '20:00', 'location': 'Vagator', 'description': 'Dinner at a cliffside restaurant with ocean views.', 'meal': 'Dinner', 'attraction': None}]}, {'day': 3, 'label': 'Transfer to South Goa & Palolem Beach', 'lead': 'Drive to South Goa. Check into a hotel near Palolem or Colva. Relax at Palolem Beach, known for its crescent shape and calm waters. Enjoy a quiet dinner by the beach, maybe a boat trip to Butterfly Beach.', 'date': '2025-03-06', 'hotels': {'id': 'HOTEL2', 'name': 'Serenity Resort Palolem', 'location': 'Palolem, South Goa', 'check_in': '2025-03-06', 'check_out': '2025-03-08', 'price_per_night': {'amount': 4000, 'currency': 'INR'}, 'details': {'rating': 4, 'amenities': ['Beach Access', 'Restaurant', 'Yoga Classes']}}, 'flights': {}, 'transfers': {}, 'activities': [{'type': 'sightseeing', 'time': '10:00', 'location': 'North Goa to South Goa', 'description': 'Transfer from North Goa to South Goa.', 'meal': None, 'attraction': None}, {'type': 'sightseeing', 'time': '13:00', 'location': 'Palolem Beach', 'description': 'Relax on the crescent-shaped Palolem Beach.', 'meal': None, 'attraction': 'Palolem Beach'}, {'type': 'sightseeing', 'time': '16:00', 'location': 'Butterfly Beach', 'description': 'Optional boat trip to Butterfly Beach.', 'meal': None, 'attraction': 'Butterfly Beach'}, {'type': 'meal', 'time': '19:30', 'location': 'Palolem Beach', 'description': 'Dinner at a beachside restaurant.', 'meal': 'Dinner', 'attraction': None}]}, {'day': 4, 'label': 'Old Goa Heritage & Spice Plantation', 'lead': "Explore Old Goa's UNESCO World Heritage sites: Basilica of Bom Jesus and Se Cathedral. Visit a local spice plantation for a guided tour and traditional Goan lunch. Enjoy a relaxing Mandovi River cruise with cultural performances.", 'date': '2025-03-07', 'hotels': {'id': 'HOTEL2', 'name': 'Serenity Resort Palolem', 'location': 'Palolem, South Goa', 'check_in': '2025-03-06', 'check_out': '2025-03-08', 'price_per_night': {'amount': 4000, 'currency': 'INR'}, 'details': {'rating': 4, 'amenities': ['Beach Access', 'Restaurant', 'Yoga Classes']}}, 'flights': {}, 'transfers': {}, 'activities': [{'type': 'sightseeing', 'time': '09:30', 'location': 'Old Goa', 'description': 'Visit the Basilica of Bom Jesus and Se Cathedral.', 'meal': None, 'attraction': 'Basilica of Bom Jesus'}, {'type': 'meal', 'time': '13:00', 'location': 'Spice Plantation', 'description': 'Guided tour and traditional Goan lunch at a spice plantation.', 'meal': 'Lunch', 'attraction': 'Sahakari Spice Farm'}, {'type': 'sightseeing', 'time': '18:00', 'location': 'Mandovi River', 'description': 'Enjoy a sunset river cruise with cultural performances.', 'meal': None, 'attraction': 'Mandovi River Cruise'}]}, {'day': 5, 'label': 'Leisure & Departure', 'lead': 'Enjoy a leisurely breakfast, last-minute souvenir shopping, or a final dip in the sea. Transfer to Goa Airport (GOI) for your departure.', 'date': '2025-03-08', 'hotels': {}, 'flights': {'id': 'FL2', 'carrier': 'IndiGo', 'number': '6E 206', 'departure': {'airport': 'Goa (GOI)', 'time': '2025-03-08T15:00:00'}, 'arrival': {'airport': 'Hyderabad (HYD)', 'time': '2025-03-08T16:30:00'}, 'duration': '1h30m', 'fare': {'amount': 4800, 'currency': 'INR'}, 'leg_key': 'return', 'selected_index': 0, 'selected_at': '2026-01-12T11:51:01.704624Z'}, 'transfers': {}, 'activities': [{'type': 'meal', 'time': '09:00', 'location': 'Hotel', 'description': 'Leisurely breakfast at the hotel.', 'meal': 'Breakfast', 'attraction': None}, {'type': 'sightseeing', 'time': '10:30', 'location': 'South Goa', 'description': 'Last-minute souvenir shopping or a final walk on the beach.', 'meal': None, 'attraction': None}, {'type': 'sightseeing', 'time': '13:00', 'location': 'Goa Airport (GOI)', 'description': 'Transfer to Goa Airport for departure.', 'meal': None, 'attraction': None}]}]}], 'costing': {'flights': 9300.0, 'hotels': 15000.0, 'attractions': 1500.0, 'total': 25800.0}}, 'trip_planner_last_itinerary_selection_signature': '42bee3e16dacde19ba69ad89ba528df002bbfbf8615a86cbc6184ff497ffe80d', 'assistant_response': 'Your demo itinerary for a 5‑day Goa getaway for two, departing from Hyderabad, is ready—packed with beach time, relaxing moments, and a taste of local culture, all within a\u202f₹50,000 budget. It includes suggested flights, hotels, activities, and transfers. Which part would you like to tweak first—flights, hotels, attractions, or transfers?', 'assistant_message': 'Your demo itinerary for a 5‑day Goa getaway for two, departing from Hyderabad, is ready—packed with beach time, relaxing moments, and a taste of local culture, all within a\u202f₹50,000 budget. It includes suggested flights, hotels, activities, and transfers. Which part would you like to tweak first—flights, hotels, attractions, or transfers?'}
2026-01-12 17:21:19,514 - app - INFO - Response sent for conversation_id: conv-12. Intent: trip_planner
2026-01-12 17:34:42,237 - app - INFO - Received chat request for conversation_id: conv-12
2026-01-12 17:34:42,238 - app - DEBUG - User message: wannt precurated one  
2026-01-12 17:34:49,870 - graph - INFO - Intent classified: pre_curated_package (confidence: 1.0)
2026-01-12 17:34:49,871 - graph - DEBUG - Reasoning: ['package_request', 'hook_choice_precurated']
2026-01-12 17:34:49,872 - graph - INFO - Calling Package API at http://localhost:8001/v1/package-response payload :{'core': {'destination': None, 'origin': None, 'start_date': None, 'end_date': None, 'budget_total': None, 'travelers': None, 'type_of_trip': None}, 'user_message': 'wannt precurated one  '}
2026-01-12 17:34:51,423 - graph - INFO - Package API successful.
2026-01-12 17:34:51,424 - app - INFO - Response sent for conversation_id: conv-12. Intent: pre_curated_package
2026-01-12 17:35:11,113 - app - INFO - Received chat request for conversation_id: conv-12
2026-01-12 17:35:11,113 - app - DEBUG - User message: i want to go to goa for 5 days with 50k rupees and no of travellers are 2 origin city is hyderabad start date is march 1st week 
2026-01-12 17:35:15,829 - graph - INFO - Intent classified: exploration (confidence: 0.9)
2026-01-12 17:35:15,829 - graph - DEBUG - Reasoning: []
2026-01-12 17:35:30,601 - graph - INFO - Exploration node finished.
2026-01-12 17:35:30,602 - graph - DEBUG - Extracted params: {'destination': ['Goa'], 'origin': 'Hyderabad', 'start_date': '2025-03-01', 'end_date': '2025-03-05', 'budget_total': 50000, 'travelers': 2}
2026-01-12 17:35:30,603 - app - INFO - Response sent for conversation_id: conv-12. Intent: exploration
2026-01-12 17:36:18,042 - app - INFO - Received chat request for conversation_id: conv-12
2026-01-12 17:36:18,042 - app - DEBUG - User message: yes give the pre curated one 
2026-01-12 17:36:24,508 - graph - INFO - Intent classified: pre_curated_package (confidence: 1.0)
2026-01-12 17:36:24,508 - graph - DEBUG - Reasoning: ['package_request', 'hook_choice_precurated']
2026-01-12 17:36:24,509 - graph - INFO - Calling Package API at http://localhost:8001/v1/package-response payload :{'core': {'destination': ['Goa'], 'origin': 'Hyderabad', 'start_date': '2025-03-01', 'end_date': '2025-03-05', 'budget_total': 50000, 'travelers': 2, 'type_of_trip': None}, 'user_message': 'yes give the pre curated one '}
2026-01-12 17:36:33,748 - graph - INFO - Package API successful.
2026-01-12 17:36:33,749 - app - INFO - Response sent for conversation_id: conv-12. Intent: pre_curated_package
2026-01-12 17:38:04,176 - app - INFO - Received chat request for conversation_id: conv-12
2026-01-12 17:38:04,177 - app - DEBUG - User message: i want to go to goa for 5 days with 50k rupees and no of travellers are 2 origin city is hyderabad start date is march 1st week 
2026-01-12 17:38:07,564 - graph - INFO - Intent classified: exploration (confidence: 1.0)
2026-01-12 17:38:07,564 - graph - DEBUG - Reasoning: ['parameter_edit']
2026-01-12 17:38:21,315 - graph - INFO - Exploration node finished.
2026-01-12 17:38:21,316 - graph - DEBUG - Extracted params: {'destination': ['Goa'], 'origin': 'Hyderabad', 'start_date': '2024-03-01', 'budget_total': 50000, 'travelers': 2}
2026-01-12 17:38:21,319 - app - INFO - Response sent for conversation_id: conv-12. Intent: exploration
2026-01-12 17:39:14,990 - app - INFO - Received chat request for conversation_id: conv-12
2026-01-12 17:39:14,990 - app - DEBUG - User message: yes give pre curated one  
2026-01-12 17:39:17,995 - graph - INFO - Intent classified: pre_curated_package (confidence: 1.0)
2026-01-12 17:39:17,997 - graph - DEBUG - Reasoning: ['hook_choice_precurated']
2026-01-12 17:39:17,998 - graph - INFO - Calling Package API at http://localhost:8001/v1/package-response payload :{'core': {'destination': ['Goa'], 'origin': 'Hyderabad', 'start_date': '2024-03-01', 'end_date': None, 'budget_total': 50000, 'travelers': 2, 'type_of_trip': None}, 'user_message': 'yes give pre curated one  '}
2026-01-12 17:39:28,627 - graph - INFO - Package API successful. the response is : {'assistant_response': 'Here are some pre-curated packages to Goa based on your requirements:', 'packages': [{'title': 'Goa - Lakshadweep - Highseas - Mumbai (Cordelia Cruise)', 'days': '4 days', 'price': '45500', 'tumbnail': 'Cordelia.jpg', 'prompt': 'The ‘Goa\u202f–\u202fLakshadweep\u202f–\u202fHighseas\u202f–\u202fMumbai (Cordelia Cruise)’ package is a 4‑day oceanic getaway that keeps you aboard the Cordelia Cruise for the entire itinerary, effectively making the ship your city for each of the four days; during the three nights in an inside cabin you’ll enjoy all meals provided on board, be treated to international shows, and soak up live music in the bars and lounges, creating a seamless blend of relaxation and entertainment while sailing between Goa, Lakshadweep, the high seas and Mumbai.', 'packageId': 'PKG009963'}, {'title': 'A Week in Goa', 'days': '8 days', 'price': '28300', 'tumbnail': 'Goa15.jpg', 'prompt': "The 'A Week in Goa' package is an 8‑day adventure that immerses you in the vibrant coastal charm of Goa, with daily stays across its iconic locales; you’ll explore must‑see sights such as Fort Aguada, the sun‑kissed stretches of Candolim, Calangute, Baga, Anjuna, and Miramar beaches, the historic Old Goa churches including the Basilica of Bom\u202fJesus and Cathedral of Santa\u202fCatarina, the serene Shree\u202fManguesh Temple, and the breathtaking Dudhsagar Falls, while also enjoying time for shopping in Panaji and a visit to Dona\u202fPaula. Guests can select from Standard, Value, or Premium hotel categories with daily breakfast included, and all transportation—toll taxes, parking fees, driver allowances, and A/C vehicle transfers—are covered, ensuring a seamless, hassle‑free experience of Goa’s cultural, natural, and culinary delights.", 'packageId': 'PKG010960'}, {'title': 'Mumbai - Highseas - Goa (Cordelia Cruise)', 'days': '3 days', 'price': '26500', 'tumbnail': 'srpcordelia3.jpg', 'prompt': "The 'Mumbai - Highseas - Goa (Cordelia Cruise)' package is a 3‑day voyage aboard the Cordelia Cruise, where guests spend two nights in comfortable inside cabins with all meals provided, enjoy a vibrant lineup of international shows, and soak up live music in the ship’s bars and lounges, making for an unforgettable high‑seas experience.", 'packageId': 'PKG009953'}]}
2026-01-12 17:39:28,631 - app - INFO - Response sent for conversation_id: conv-12. Intent: pre_curated_package
